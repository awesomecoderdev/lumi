<?php

/**
 * The search page template file.
 *
 * This is the most generic template file in a WordPress theme
 * and one of the two required files for a theme (the other being style.css).
 * It is used to display a page when nothing more specific matches a query.
 * E.g., it puts together the home page when no home.php file exists.
 *
 * @link https://codex.wordpress.org/Template_Hierarchy
 *
 * @link              https://awesomecoder.dev/
 * @since             1.0.0
 * @package           lumi
 *<span class="price"><?php echo $product->get_price_html(); ?></span>
		<h1 class="xl:text-6xl lg:text-5xl md:text-4xl text-3xl font-semibold mt-2 scroll-mt-24"><?php the_title(); ?></h1>
		<?php the_content(); ?>
 */

if (!defined('ABSPATH')) {
	exit; // Exit if accessed directly.

}

?>

<?php get_header(); ?>

<main id="main" class="<?php echo lumi_container("py-10 not-prose"); ?>">
	<?php

	$product = wc_get_product(get_the_ID());
	$images = get_product_gallery_images();
	?>

	<?php while (have_posts()) : the_post(); ?>
		<div class="relative grid grid-cols-12 gap-4">
			<div class="relative col-span-4 grid grid-cols-6 gap-4">
				<div class="relative col-span-2 ">
					<div class="absolute top-0 flex w-full justify-center items-end h-14 bg-gradient-to-b from-white z-10">
					</div>
					<div class="relative grid gap-4 gallery max-h-96 overflow-scroll no-scrollbar">
						<?php foreach ($images as $key => $image) : ?>
							<div class="relative h-28 gallery-item rounded-xl overflow-hidden cursor-pointer <?php echo $key == 0 ? "active" : "" ?>">
								<img class="relative rounded-xl aspect-[5/4]" src="<?php echo $image; ?>" alt="<?php the_title() ?>">
								<div class="gallery-shadow absolute rounded-xl inset-0 flex items-center justify-center bg-zinc-900/15 backdrop-filter">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
										<mask id="path-1-inside-1_28_3784" fill="white">
											<path d="M0 5.00001C0 2.23858 2.23858 0 5 0H16.3333C19.0948 0 21.3333 2.23858 21.3333 5V16.3333C21.3333 19.0948 19.0948 21.3333 16.3333 21.3333H5.00001C2.23858 21.3333 0 19.0948 0 16.3333V5.00001Z" />
										</mask>
										<path fill-rule="evenodd" clip-rule="evenodd" d="M4.10973 21.2677C4.27346 21.2921 4.43935 21.3098 4.60712 21.3207C4.737 21.3291 4.868 21.3333 5 21.3333C4.86773 21.3333 4.73696 21.3253 4.60798 21.3096C4.44013 21.2892 4.27532 21.2558 4.11419 21.2103C4.09873 21.2059 4.0833 21.2015 4.0679 21.1969C3.91733 21.1519 3.77006 21.0964 3.62663 21.0308C3.6179 21.0268 3.60918 21.0228 3.60047 21.0188C3.44927 20.9482 3.3024 20.8664 3.1605 20.7744C2.76099 20.5153 2.40087 20.1745 2.09432 19.7696C1.94934 19.5781 1.81635 19.3723 1.69684 19.1541C1.5329 18.8547 1.39434 18.5319 1.28502 18.1905L0.285489 19.045C0.388776 19.176 0.497408 19.3026 0.611054 19.4245C0.725172 19.5468 0.844346 19.6644 0.968245 19.7769C1.5679 20.3213 2.27822 20.746 3.06146 21.0133C3.21938 21.0672 3.38026 21.1146 3.5438 21.1554C3.56768 21.1614 3.59161 21.1672 3.6156 21.1728C3.75615 21.206 3.89862 21.2343 4.0428 21.2574C4.06507 21.261 4.08738 21.2644 4.10973 21.2677ZM-0.485503 17.7679L1.08964 17.6456L1.04815 17.1115C1.02915 16.9594 1.01562 16.8051 1.00784 16.6489C1.00264 16.5445 1 16.4393 1 16.3333V15.7667V14.7667H-1V15.3333C-1 15.479 -0.994806 15.6236 -0.984592 15.7667C-0.970924 15.9582 -0.948267 16.1472 -0.917042 16.3333C-0.891096 16.488 -0.859234 16.6406 -0.821696 16.791C-0.737367 17.1289 -0.624392 17.4555 -0.485503 17.7679ZM-1 14.5H1V13.5V10.1V9.1H-1V10.1V13.5V14.5ZM-1 6.56667H1V5.56667V5.00001C1 5 1 5 1 5C1 4.98672 1.00006 4.97345 1.00019 4.9602C1.00109 4.86747 1.00513 4.77563 1.01219 4.68478L1.06133 4.05221L1.30313 3.46912C1.54625 2.88285 1.92561 2.36569 2.40252 1.95798L3.16263 1.30818L1.91728 -0.148566C1.6339 0.0214696 1.36573 0.214237 1.11528 0.427215L1.10292 0.437776C0.390081 1.04717 -0.17876 1.82146 -0.544323 2.70301L-0.565938 2.75514C-0.668192 3.00842 -0.753659 3.27029 -0.820959 3.53935C-0.830896 3.57908 -0.840437 3.61896 -0.849577 3.659C-0.912373 3.93406 -0.956266 4.21631 -0.979818 4.50432L-0.981803 4.52987C-0.990978 4.64798 -0.996722 4.76694 -0.998947 4.88665C-0.999465 4.91453 -0.999793 4.94244 -0.999928 4.97039C-0.999976 4.98025 -1 4.99012 -1 5M3.53935 -0.820958L3.68778 1.08964L4.68477 1.01219C4.76344 1.00608 4.84285 1.00223 4.92294 1.00072C4.94195 1.00037 4.961 1.00014 4.98009 1.00005C4.98672 1.00002 4.99336 1 5 1H5.56667H6.56667V-1H5.56667H5C4.98025 -1 4.96051 -0.999904 4.9408 -0.999713C4.8028 -0.998374 4.66576 -0.99236 4.52986 -0.981803L4.50442 -0.979826C4.17445 -0.952847 3.85203 -0.89917 3.53935 -0.820958ZM6.83333 -1V1H7.83333H11.2333H12.2333V-1H11.2333H7.83333H6.83333ZM14.7667 -1V1H15.7667H16.3333C16.4393 1 16.5445 1.00264 16.6489 1.00784C16.8051 1.01562 16.9594 1.02915 17.1115 1.04815L17.2811 1.06133L17.3216 1.07812C17.521 1.11011 17.7161 1.15158 17.9062 1.20192C18.6015 1.38611 19.2292 1.68909 19.7517 2.08081C19.7577 2.08535 19.7638 2.0899 19.7698 2.09447C19.9001 2.1931 20.0237 2.29729 20.1401 2.40654C20.2633 2.52213 20.3784 2.64341 20.4847 2.7698L20.7924 2.50674C20.7208 2.35037 20.6428 2.19761 20.5586 2.04881C20.4753 1.90177 20.3861 1.7586 20.2912 1.61962C19.8665 0.99795 19.3279 0.460255 18.7055 0.0365701C18.6238 -0.0190392 18.5407 -0.0726844 18.4561 -0.124298C18.2357 -0.258927 18.0059 -0.379731 17.7679 -0.485504C17.6992 -0.516045 17.6298 -0.545332 17.5598 -0.573338C17.3113 -0.672693 17.0546 -0.755911 16.791 -0.821697C16.6406 -0.859235 16.488 -0.891097 16.3333 -0.917043C16.1472 -0.948268 15.9582 -0.970924 15.7667 -0.984592C15.6235 -0.994806 15.479 -1 15.3333 -1H14.7667ZM21.1728 3.61559L21.0308 3.62662C21.1031 3.78472 21.1632 3.94748 21.2103 4.11419C21.2558 4.27531 21.2892 4.44013 21.3096 4.60798C21.3253 4.73696 21.3333 4.86773 21.3333 5C21.3333 4.868 21.3291 4.737 21.3207 4.60712C21.3098 4.43935 21.2921 4.27346 21.2677 4.10973C21.2429 3.94267 21.2112 3.77786 21.1728 3.61559ZM-1 6.56667V5.56667V5.00001" fill="#F7F8F6" mask="url(#path-1-inside-1_28_3784)" />
										<path d="M21.9644 20.7022L18.6666 17.4311C19.9467 15.835 20.5666 13.8091 20.3989 11.77C20.2311 9.73091 19.2885 7.83356 17.7648 6.4681C16.2411 5.10265 14.2522 4.37287 12.207 4.42884C10.1617 4.4848 8.21567 5.32225 6.76893 6.76899C5.32219 8.21573 4.48474 10.1618 4.42878 12.207C4.37281 14.2523 5.10259 16.2412 6.46804 17.7649C7.8335 19.2886 9.73085 20.2312 11.77 20.3989C13.8091 20.5666 15.8349 19.9467 17.431 18.6666L20.7021 21.9378C20.7848 22.0211 20.8831 22.0872 20.9914 22.1323C21.0997 22.1775 21.2159 22.2007 21.3332 22.2007C21.4506 22.2007 21.5668 22.1775 21.6751 22.1323C21.7834 22.0872 21.8817 22.0211 21.9644 21.9378C22.1246 21.772 22.2141 21.5505 22.2141 21.32C22.2141 21.0895 22.1246 20.868 21.9644 20.7022ZM12.4444 18.6666C11.2137 18.6666 10.0107 18.3017 8.98748 17.618C7.96424 16.9343 7.16672 15.9625 6.69578 14.8256C6.22483 13.6886 6.10161 12.4375 6.3417 11.2305C6.58178 10.0235 7.17439 8.91484 8.04458 8.04465C8.91478 7.17445 10.0235 6.58184 11.2305 6.34176C12.4375 6.10167 13.6885 6.22489 14.8255 6.69584C15.9625 7.16678 16.9342 7.9643 17.6179 8.98754C18.3017 10.0108 18.6666 11.2138 18.6666 12.4444C18.6666 14.0947 18.011 15.6773 16.8441 16.8442C15.6772 18.0111 14.0946 18.6666 12.4444 18.6666ZM15.9999 11.5555H8.8888C8.65306 11.5555 8.42696 11.6492 8.26026 11.8159C8.09357 11.9826 7.99992 12.2087 7.99992 12.4444C7.99992 12.6802 8.09357 12.9063 8.26026 13.073C8.42696 13.2397 8.65306 13.3333 8.8888 13.3333H15.9999C16.2357 13.3333 16.4618 13.2397 16.6285 13.073C16.7952 12.9063 16.8888 12.6802 16.8888 12.4444C16.8888 12.2087 16.7952 11.9826 16.6285 11.8159C16.4618 11.6492 16.2357 11.5555 15.9999 11.5555Z" fill="#F7F8F6" />
									</svg>
								</div>
							</div>
						<?php endforeach; ?>
					</div>
					<div class="absolute bottom-0 flex w-full justify-center items-end h-14 bg-gradient-to-t from-white">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
							<path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
						</svg>
					</div>
				</div>
				<div class="relative col-span-4">
					<img class="relative h-full rounded-xl aspect-[5/4] cursor-pointer" src="<?php echo get_the_post_thumbnail_url(get_the_ID()); ?>" alt="<?php the_title() ?>">
				</div>
			</div>
			<div class="relative h-full col-span-5 flex items-center single-product-item">
				<div class="relative space-y-3 h-full mt-10">
					<?php do_action("woocommerce_single_product_summary") ?>
				</div>
			</div>
			<div class="relative h-20 col-span-3 bg-blue-300">

			</div>
		</div>

	<?php endwhile; ?>
</main>

<?php get_footer(); ?>